
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Recommender notebooks &#8212; &lt;h1 style=&#34;font-size:1.7em;text-align:center;color:#FF5733&#34;&gt;Recommenders&lt;/h1&gt;</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/tabs.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title"><h1 style="font-size:1.7em;text-align:center;color:#FF5733">Recommenders</h1></h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p class="caption" role="heading">
 <span class="caption-text">
  Quick Start
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="00_quick_start/als_movielens.html">
   Running ALS on MovieLens (PySpark)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="00_quick_start/ncf_movielens.html">
   Neural Collaborative Filtering on MovieLens dataset.
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="00_quick_start/fastai_movielens.html">
   FastAI Recommender
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Deep Dive
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="02_model_collaborative_filtering/als_deep_dive.html">
   Spark Collaborative Filtering (ALS) Deep Dive
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_model_collaborative_filtering/baseline_deep_dive.html">
   Estimating Baseline Performance
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  API Documentation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../source/datasets.html">
   Dataset module
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../source/evaluation.html">
   Evaluation module
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../source/models.html">
   Recommender algorithms module
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../source/tuning.html">
   Hyperparameter tuning module
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../source/utils.html">
   Common utilities module
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/examples/README.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/microsoft/recommenders"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/microsoft/recommenders/issues/new?title=Issue%20on%20page%20%2Fexamples/README.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#on-premise-notebooks">
   On-premise notebooks
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#azure-enhanced-notebooks">
   Azure-enhanced notebooks
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#submit-an-existing-notebook-to-azure-machine-learning">
     Submit an existing notebook to Azure Machine Learning
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="recommender-notebooks">
<h1>Recommender notebooks<a class="headerlink" href="#recommender-notebooks" title="Permalink to this headline">¶</a></h1>
<p>This folder contains examples and best practices, written in Jupyter notebooks, for building recommendation systems.</p>
<p>The diagram below depicts how the best-practice examples help researchers / developers in the recommendation system development workflow.</p>
<p><img alt="workflow" src="https://recodatasets.z20.web.core.windows.net/images/reco_workflow.png" /></p>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>The following summarizes each directory of the best practice notebooks.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Directory</p></th>
<th class="head"><p>Runs Local</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="xref myst">00_quick_start</span></p></td>
<td><p>Yes</p></td>
<td><p>Quick start notebooks that demonstrate workflow of developing a recommender by using an algorithm in local environment</p></td>
</tr>
<tr class="row-odd"><td><p><span class="xref myst">01_prepare_data</span></p></td>
<td><p>Yes</p></td>
<td><p>Data preparation notebooks for each recommender algorithm</p></td>
</tr>
<tr class="row-even"><td><p><span class="xref myst">02_model_collaborative_filtering</span></p></td>
<td><p>Yes</p></td>
<td><p>Deep dive notebooks about model training and evaluation using collaborative filtering algorithms</p></td>
</tr>
<tr class="row-odd"><td><p><span class="xref myst">02_model_content_based_filtering</span></p></td>
<td><p>Yes</p></td>
<td><p>Deep dive notebooks about model training and evaluation using content-based filtering algorithms</p></td>
</tr>
<tr class="row-even"><td><p><span class="xref myst">02_model_hybrid</span></p></td>
<td><p>Yes</p></td>
<td><p>Deep dive notebooks about model training and evaluation using hybrid algorithms</p></td>
</tr>
<tr class="row-odd"><td><p><span class="xref myst">03_evaluate</span></p></td>
<td><p>Yes</p></td>
<td><p>Notebooks that introduce different evaluation methods for recommenders</p></td>
</tr>
<tr class="row-even"><td><p><span class="xref myst">04_model_select_and_optimize</span></p></td>
<td><p>Some local, some on Azure</p></td>
<td><p>Best practice notebooks for model tuning and selecting by using Azure Machine Learning Service and/or open source technologies</p></td>
</tr>
<tr class="row-odd"><td><p><span class="xref myst">05_operationalize</span></p></td>
<td><p>No, Run on Azure</p></td>
<td><p>Operationalization notebooks that illustrate an end-to-end pipeline by using a recommender algorithm for a certain real-world use case scenario</p></td>
</tr>
<tr class="row-even"><td><p><span class="xref myst">06_benchmarks</span></p></td>
<td><p>Yes</p></td>
<td><p>Benchmark comparison of several recommender algorithms</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="on-premise-notebooks">
<h2>On-premise notebooks<a class="headerlink" href="#on-premise-notebooks" title="Permalink to this headline">¶</a></h2>
<p>The notebooks that do not require Azure can be run out-of-the-box on any Linux machine, where an environment is properly
set up by following the <span class="xref myst">instructions</span>.</p>
<p><strong>NOTE</strong> Some of the notebooks may rely on heterogeneous computing instances
like a cluster of CPU machines with Spark framework installed or machines with GPU devices incorporated. It is therefore recommended
to run these notebooks on a <a class="reference external" href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/microsoft-dsvm.linux-data-science-vm-ubuntu">Data Science Virtual Machine for Linux (Ubuntu)</a>, where a single-node Spark and/or GPU device are pre-configured.</p>
</div>
<div class="section" id="azure-enhanced-notebooks">
<h2>Azure-enhanced notebooks<a class="headerlink" href="#azure-enhanced-notebooks" title="Permalink to this headline">¶</a></h2>
<p>Azure products and services are used in certain notebooks to enhance the efficiency of developing recommender systems in scale.</p>
<p>To successfully run these notebooks, the users <strong>need an Azure subscription</strong> or can <a class="reference external" href="https://azure.microsoft.com/en-us/free/">use Azure for free</a>.
The Azure products featured in the notebooks include:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://azure.microsoft.com/en-us/services/machine-learning-service/">Azure Machine Learning service</a> - Azure Machine Learning service is a cloud service used to train, deploy, automate, and manage machine learning models, all at the broad scale that the cloud provides. It is used intensively across various notebooks for the AI model development related tasks like:</p>
<ul>
<li><p>Hyperparameter tuning</p></li>
<li><p>Tracking and monitoring metrics to enhance the model creation process</p></li>
<li><p>Scaling up and out on Compute like DSVM and Azure Machine Learning Compute</p></li>
<li><p>Deploying a web service to Azure Kubernetes Service</p></li>
<li><p>Submitting pipelines</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://azure.microsoft.com/en-us/services/virtual-machines/data-science-virtual-machines/">Azure Data Science Virtual Machine</a> - Azure Data Science Virtual Machine is mainly used for a remote server where user
can easily configure the local as well as the cloud environment for running the example notebooks.</p></li>
<li><p><a class="reference external" href="https://docs.microsoft.com/en-us/azure/cosmos-db/introduction">Azure Cosmos DB</a> - Cosmos DB is used for preserving data. This is demonstrated in the operationalization example where
recommendation results generated from a model are preserved in Cosmos DB for real-time serving purpose.</p></li>
<li><p><a class="reference external" href="https://azure.microsoft.com/en-us/services/databricks/">Azure Databricks</a> - Azure Databricks is mainly used for developing Spark based recommenders such as Spark ALS algorithm, in a distributed computing
environment.</p></li>
<li><p><a class="reference external" href="https://azure.microsoft.com/en-us/services/kubernetes-service/">Azure Kubernetes Service</a> - Azure Kubernetes Service is used for serving a recommender model or consuming the results
generated from a recommender for a application service.</p></li>
</ul>
<p>There may be other Azure service or products used in the notebooks. Introduction and/or reference of
those will be provided in the notebooks.</p>
<div class="section" id="submit-an-existing-notebook-to-azure-machine-learning">
<h3>Submit an existing notebook to Azure Machine Learning<a class="headerlink" href="#submit-an-existing-notebook-to-azure-machine-learning" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="run_notebook_on_azureml.html"><span class="doc std std-doc">run_notebook_on_azureml</span></a> notebook provides a scaffold to directly submit an existing notebook to AzureML compute targets. After setting up a compute target and creating a run configuration, simply replace the notebook file name and submit the notebook directly.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cfg</span> <span class="o">=</span> <span class="n">NotebookRunConfig</span><span class="p">(</span><span class="n">source_directory</span><span class="o">=</span><span class="s1">&#39;../&#39;</span><span class="p">,</span>
                            <span class="n">notebook</span><span class="o">=</span><span class="s1">&#39;examples/00_quick_start/&#39;</span> <span class="o">+</span> <span class="n">NOTEBOOK_NAME</span><span class="p">,</span>
                            <span class="n">output_notebook</span><span class="o">=</span><span class="s1">&#39;outputs/out.ipynb&#39;</span><span class="p">,</span>
                            <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;MOVIELENS_DATA_SIZE&quot;</span><span class="p">:</span> <span class="s2">&quot;100k&quot;</span><span class="p">,</span> <span class="s2">&quot;TOP_K&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
                            <span class="n">run_config</span><span class="o">=</span><span class="n">run_config</span><span class="p">)</span>
</pre></div>
</div>
<p>All metrics and parameters logged with <code class="docutils literal notranslate"><span class="pre">sb.glue</span></code> will be stored on the run as tracked metrics. The initial notebook that was submitted, will be stored as an output notebook <code class="docutils literal notranslate"><span class="pre">out.ipynb</span></code> in the outputs tab of the Azure Portal.</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./examples"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By The Jupyter Book community<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>